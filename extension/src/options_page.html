<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>Options</title>
        <link rel="stylesheet" type="text/css" href="options_page.css">
    </head>

<body>

    <fieldset>
        <legend><strong>Don't forget to save settings after changing</strong></legend>
        <button id="save_id">Save</button>
    </fieldset>

    <fieldset>
        <legend>Troubleshoot</legend>
        <div>
            See <a href="https://github.com/karlicoss/promnesia/blob/master/doc/TROUBLESHOOTING.org">troubleshooting guide</a>
        </div>
        <div>
            If you messed some extension settings up, you can check
            <a href="https://github.com/karlicoss/promnesia/blob/master/extension/src/options.js">src/options.js</a>
        </div>
    <!-- TODO give some quick help on using CSS, some examples too? -->
    </fieldset>


    <fieldset>
        <legend>Backend</legend>

        <label for="host_id">Host</label>
        <div class="description"><b>Don't forget to setup & run the <a href="https://github.com/karlicoss/promnesia#try-it-out">backend</a> first.</b>
You can leave host empty if you want to use in-browser visits only.
However support for that is still limited (see <a href="https://github.com/karlicoss/promnesia/issues/120">issues/120</a>)
</div>
        <input type="URL" id="host_id">
        <label for="token_id">Auth token (if necessary)</label>
        <td><input type="password" id="token_id">
        <button id="backend_status_id">Check backend status</button>
    </fieldset>

    <fieldset>
        <legend>Behaviour</legend>

        <!-- <table> -->
        <!-- <tr> -->
        <!-- <td><input type="checkbox"  id="dots_id"/></td> -->
        <!-- <td><label for="dots_id">Show dots</label></td> -->
        <!-- </tr> -->
        <!-- </table> -->
        <table>
            <tr>
                <td><input type="checkbox" id="contexts_popup_id"/></td>
                <td><label for="contexts_popup_id">Show 'Has contexts' popup (green)</label></td>
            </tr>
            <tr>
                <td><input type="checkbox" id="verbose_errors_id"/></td>
                <td><label for="verbose_errors_id">Verbose errors (for debugging, may result in notification spam)</label></td>
            </tr>
            <tr>
                <td><input type="checkbox" id="detect_sidebar_urls_id"/></td>
                <td><label for="detect_sidebar_urls_id">Detect and linkify URLs in the sidebar</label></td>
            </tr>
            <tr>
                <td><input type="checkbox" id="highlight_id"/></td>
                <td><label for="highlight_id">Highlight contexts (experimental, may result in slowdown on huge pages)</label></td>
            </tr>
        </table>
        <hr>
        <div>
            <label for="blacklist_id">Blacklisted links and domains:</label>
            <!-- TODO copy pasted from blacklist() function -->
            <div class="description">Supported formats:
- <code>domain.name</code>, e.g.: <code>web.telegram.org</code>
      Will exclude whole Telegram website.
- <code>http://exact/match</code>, e.g.: <code>http://github.com</code>
      Will only exclude Github main page. Subpages will still work.
- <code>/regul.r.*expression/</code>, e.g.: <code>/github.*/username/</code>
      Quick way to exclude your own Github repostitories.</div>
            <div id="blacklist_id"></div>
        </div>
        <hr>
        <div>
            <label for="filterlists_id">Filter lists:<label>
            <div class="description">In addition to specific blacklisting above, you can specify links to filter lists.
They will be autoupdated every 3 days. Spec format (Json):<pre>[
    ["name (arbitrary)", "link"],
    ["name2"           , "link 2", "optional comment"]
]</pre></div>
            <div id="filterlists_id"></div>
        </div>
        <hr>
        <div>
            <label for="source_map_id">Source map (json):</label>
            <div class="description">Can be used to rename the sources</div>
            <div id="source_map_id"></div>
        </div>
    </fieldset>

    <!-- TODO hmm. iframe css can't be applied from outside; so we have to use two separate CSS settings.. -->
    <!-- could be a bit confusing for user -->
    <fieldset>
        <legend>Style settings (CSS)</legend>
        <div id="position_css_id"></div>
    </fieldset>
    <fieldset>
        <legend>Sidebar style (DEPRECATED!)</legend>
        <div>If you had any settings here, please move them to the field above</div>
        <div id="extra_css_id"></div>
    </fieldset>

    <script src="options_page.js"/></script>
</body>
</html>
